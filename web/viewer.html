<!-- <doctype HTML> -->
<html>
<head>
<!--	<meta name="google-signin-scope" content="profile email">
	<meta name="google-signin-client_id" content="773135597766-ofk2e5lehiv3tabtmppq7prutqaifgbj.apps.googleusercontent.com">
-->
<script src="https://apis.google.com/js/client.js"></script>

	<script src="js/autobahn.min.js"></script>
	<script type="text/javascript" src="js/pdfjs/pdf.js"></script>
	<script type="text/javascript" src="js/paper-full.js"></script>
	<script type="text/javascript" src="js/hammer.js"></script>
	<script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>
<link rel="stylesheet" type="text/css" href="nav.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
<div id="sideNav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">x</a>
  <a href="#">Login</a>
  <a href="#">Annotate</a>
	<div id="setlist" class="sidenav"></div>
</div>
 <span id="menuButton" style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

	<!-- <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
	<a href="#" onclick="signOut();">Sign out</a>
	 -->
	<span>Page: <span id="page_num"></span> / <span id="page_count"></span></span>
	<canvas id="pdfCanvas" style="z-index:0"></canvas>

-	<canvas id="navCanvas" style="z-index:2; pointer-events:all"></canvas>

</body>
<!-- call paperscript file after all javascript files -->
<footer>
<script type="text/javascript">

var menu = document.getElementById("sideNav");
var setlist = document.getElementById("setlist");
var nc = document.getElementById("navCanvas");
var pc = document.getElementById("pdfCanvas");

function loadSetlist(songs) {
	clearSetlist();
	for (var i=0; i<songs.length; i++) {
		var e = document.createElement('a');
		e.id = encodeURIComponent('pdf/' + songs[i]);
		e.classList.add('w3-container');
		e.style.cursor = "pointer";
//		e.style.color = 'gray';
//		e.style.hover = 'white';
		e.setAttribute('onclick', 'downloadPDF("pdf/' + songs[i] + '")');
		e.innerHTML = songs[i];
		setlist.appendChild(e);
	}
	loadPDF("/pdf/" + setlist.firstChild.innerHTML);
}

function clearSetlist() {

	while (setlist.firstChild) {
			setlist.firstChild.remove();
	}
}



function openNav() {
    menu.style.width = "250px";
    setlist.style.width = "250px";

    nc.style.marginLeft = "250px";
    pc.style.marginLeft = "250px";
}

function closeNav() {
    menu.style.width = "0";
    setlist.style.width = "0";

    nc.style.marginLeft= "0";
    pc.style.marginLeft= "0";
}
//
//var request = indexedDB.open("leo");
//
//request.onupgradeneeded = function() {
//  // The database did not previously exist, so create object stores and indexes.
//  var db = request.result;
//  var store = db.createObjectStore("songs", {keyPath: "name"});
//  var titleIndex = store.createIndex("by_title", "title", {unique: true});
//
//
//  // Populate with initial data.
////  store.put({title: "Quarry Memories", author: "Fred", isbn: 123456});
////  store.put({title: "Water Buffaloes", author: "Fred", isbn: 234567});
////  store.put({title: "Bedrock Nights", author: "Barney", isbn: 345678});
//};
//
//request.onsuccess = function() {
//  db = request.result;
//	console.log('database opened sucessfully! ');
//};
//
//request.onerror = function(e) {
//	console.log('error opening database! ', e);
//};

// function appendSong(link, title) {
// 	var e = document.createElement('a');
// 	e.setAttribute('href', link);
// 	e.innerHTML = title;
// 	setlist.appendChild(e);
// }
//appendSong('#', 'song1');
</script>


<script type="text/javascript" src="js/nav.js"></script>

<link rel="stylesheet" type="text/css" href="js/player.css">
</footer>
</html>
<!-- </doctype> -->
